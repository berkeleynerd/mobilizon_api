query Discussion($id: ID, $slug: String) {
  discussion(id: $id, slug: $slug) {
    actor {
      avatar {
        ...discussion_MediaFields
      }
      banner {
        ...discussion_MediaFields
      }
      domain
      followersCount
      followingCount
      id
      local
      manuallyApprovesFollowers
      mediaSize
      name
      preferredUsername
      summary
      suspended
      type
      url
    }
    comments {
      elements {
        actor {
          ...discussion_PersonFields
        }
        attributedTo {
          domain
          followersCount
          followingCount
          id
          local
          manuallyApprovesFollowers
          mediaSize
          name
          preferredUsername
          summary
          suspended
          type
          url
        }
        conversation {
          conversationParticipantId
          id
          insertedAt
          unread
          updatedAt
        }
        deletedAt
        event {
          ...discussion_EventFields
        }
        id
        inReplyToComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        insertedAt
        isAnnouncement
        language
        local
        originComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        primaryLanguage
        publishedAt
        replies {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        text
        threadLanguages
        totalReplies
        updatedAt
        url
        uuid
        visibility
      }
      total
    }
    creator {
      ...discussion_PersonFields
    }
    id
    insertedAt
    lastComment {
      actor {
        ...discussion_PersonFields
      }
      attributedTo {
        avatar {
          ...discussion_MediaFields
        }
        banner {
          ...discussion_MediaFields
        }
        domain
        followersCount
        followingCount
        id
        local
        manuallyApprovesFollowers
        mediaSize
        name
        preferredUsername
        summary
        suspended
        type
        url
      }
      conversation {
        actor {
          ...discussion_PersonFields
        }
        comments {
          total
        }
        conversationParticipantId
        event {
          ...discussion_EventFields
        }
        id
        insertedAt
        lastComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        originComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        participants {
          ...discussion_PersonFields
        }
        unread
        updatedAt
      }
      deletedAt
      event {
        ...discussion_EventFields
      }
      id
      inReplyToComment {
        actor {
          ...discussion_PersonFields
        }
        attributedTo {
          domain
          followersCount
          followingCount
          id
          local
          manuallyApprovesFollowers
          mediaSize
          name
          preferredUsername
          summary
          suspended
          type
          url
        }
        conversation {
          conversationParticipantId
          id
          insertedAt
          unread
          updatedAt
        }
        deletedAt
        event {
          ...discussion_EventFields
        }
        id
        inReplyToComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        insertedAt
        isAnnouncement
        language
        local
        originComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        primaryLanguage
        publishedAt
        replies {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        text
        threadLanguages
        totalReplies
        updatedAt
        url
        uuid
        visibility
      }
      insertedAt
      isAnnouncement
      language
      local
      originComment {
        actor {
          ...discussion_PersonFields
        }
        attributedTo {
          domain
          followersCount
          followingCount
          id
          local
          manuallyApprovesFollowers
          mediaSize
          name
          preferredUsername
          summary
          suspended
          type
          url
        }
        conversation {
          conversationParticipantId
          id
          insertedAt
          unread
          updatedAt
        }
        deletedAt
        event {
          ...discussion_EventFields
        }
        id
        inReplyToComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        insertedAt
        isAnnouncement
        language
        local
        originComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        primaryLanguage
        publishedAt
        replies {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        text
        threadLanguages
        totalReplies
        updatedAt
        url
        uuid
        visibility
      }
      primaryLanguage
      publishedAt
      replies {
        actor {
          ...discussion_PersonFields
        }
        attributedTo {
          domain
          followersCount
          followingCount
          id
          local
          manuallyApprovesFollowers
          mediaSize
          name
          preferredUsername
          summary
          suspended
          type
          url
        }
        conversation {
          conversationParticipantId
          id
          insertedAt
          unread
          updatedAt
        }
        deletedAt
        event {
          ...discussion_EventFields
        }
        id
        inReplyToComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        insertedAt
        isAnnouncement
        language
        local
        originComment {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        primaryLanguage
        publishedAt
        replies {
          deletedAt
          id
          insertedAt
          isAnnouncement
          language
          local
          primaryLanguage
          publishedAt
          text
          threadLanguages
          totalReplies
          updatedAt
          url
          uuid
          visibility
        }
        text
        threadLanguages
        totalReplies
        updatedAt
        url
        uuid
        visibility
      }
      text
      threadLanguages
      totalReplies
      updatedAt
      url
      uuid
      visibility
    }
    slug
    title
    updatedAt
  }
}

fragment discussion_EventFields on Event {
  attributedTo {
    domain
    followersCount
    followingCount
    id
    local
    manuallyApprovesFollowers
    mediaSize
    name
    preferredUsername
    summary
    suspended
    type
    url
  }
  beginsOn
  category
  comments {
    deletedAt
    id
    insertedAt
    isAnnouncement
    language
    local
    primaryLanguage
    publishedAt
    text
    threadLanguages
    totalReplies
    updatedAt
    url
    uuid
    visibility
  }
  contacts {
    domain
    followersCount
    followingCount
    id
    local
    manuallyApprovesFollowers
    mediaSize
    name
    preferredUsername
    summary
    suspended
    type
    url
  }
  conversations {
    total
  }
  description
  draft
  endsOn
  externalParticipationUrl
  id
  insertedAt
  joinOptions
  language
  local
  longEvent
  media {
    alt
    contentType
    id
    name
    size
    url
  }
  metadata {
    key
    title
    type
    value
  }
  onlineAddress
  options {
    anonymousParticipation
    attendees
    commentModeration
    hideNumberOfParticipants
    hideOrganizerWhenGroupEvent
    isOnline
    maximumAttendeeCapacity
    program
    remainingAttendeeCapacity
    showEndTime
    showParticipationPrice
    showRemainingAttendeeCapacity
    showStartTime
    timezone
  }
  organizerActor {
    domain
    followersCount
    followingCount
    id
    local
    manuallyApprovesFollowers
    mediaSize
    name
    preferredUsername
    summary
    suspended
    type
    url
  }
  participantStats {
    administrator
    creator
    going
    moderator
    notApproved
    notConfirmed
    participant
    rejected
  }
  participants {
    total
  }
  phoneAddress
  physicalAddress {
    country
    description
    geom
    id
    locality
    originId
    postalCode
    region
    street
    timezone
    type
    url
  }
  picture {
    alt
    contentType
    id
    name
    size
    url
  }
  publishAt
  slug
  status
  tags {
    id
    slug
    title
  }
  title
  updatedAt
  url
  uuid
  visibility
}

fragment discussion_MediaFields on Media {
  alt
  contentType
  id
  metadata {
    blurhash
    height
    width
  }
  name
  size
  url
}

fragment discussion_PersonFields on Person {
  avatar {
    alt
    contentType
    id
    name
    size
    url
  }
  banner {
    alt
    contentType
    id
    name
    size
    url
  }
  conversations {
    total
  }
  domain
  feedTokens {
    token
  }
  followersCount
  followingCount
  follows {
    total
  }
  id
  local
  manuallyApprovesFollowers
  mediaSize
  memberOf {
    id
    insertedAt
    role
    updatedAt
  }
  memberships {
    total
  }
  name
  organizedEvents {
    total
  }
  participations {
    total
  }
  preferredUsername
  summary
  suspended
  type
  unreadConversationsCount
  url
  user {
    confirmationSentAt
    confirmationToken
    confirmedAt
    currentSignInAt
    currentSignInIp
    disabled
    email
    id
    lastSignInAt
    lastSignInIp
    locale
    mediaSize
    provider
    resetPasswordSentAt
    resetPasswordToken
    role
  }
}

